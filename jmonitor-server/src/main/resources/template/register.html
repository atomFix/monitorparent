<!DOCTYPE html>
<html lang="en">
<head>
    <title>JMonitor</title>
    <!-- Meta-Tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords"
          content="Business Login Form a Responsive Web Template, Bootstrap Web Templates, Flat Web Templates, Android Compatible Web Template, Smartphone Compatible Web Template, Free Webdesigns for Nokia, Samsung, LG, Sony Ericsson, Motorola Web Design">
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!-- //Meta-Tags -->

    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <!-- css files -->
    <link href="/lib/login/css/font-awesome.min.css" rel="stylesheet">
    <link href="/lib/login/css/style.css" rel="stylesheet"/>
    <!-- //css files -->

    <link href="//fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet">

</head>
<body>
<div class="adcenter">
</div>

<div class="signupform">
    <div class="container">
        <!-- main content -->
        <div class="agile_info">
            <div class="w3l_form">
                <div class="left_grid_info">
                    <h1>JVM Management System</h1>
                    <p>监控您的每一台服务器</p>
                    <img src="/lib/login/images/image.jpg" alt=""/>
                </div>
            </div>
            <div class="w3_info">
                <h2>注册</h2>
                <form action="/doRegister" name = "register" method="post">
                    <label>账号</label>
                    <span style="color: red;display: none" id="error" >账号已存在</span>
                    <div class="input-group">
                        <span class="fa fa-envelope" aria-hidden="true"></span>
                        <input onchange="checkUsername()" id="username" name="username" type="text" placeholder="请输入您的用户名" required="">
                    </div>
                    <label>密码</label>
                    <div class="input-group">
                        <span class="fa fa-lock" aria-hidden="true"></span>
                        <input name="password" type="Password" placeholder="请输入您的密码" required="">
                    </div>
                    <button class="btn btn-danger btn-block" style="background: #4E5465" disabled
                            type="submit" id="commit">Register</button>
                </form>
                <p class="account1">If you have an account <a href="/login">Login here</a></p>
            </div>
        </div>
        <!-- //main content -->
    </div>
    <!-- footer -->
    <div class="footer">
        <p>&copy; 2021 Business login form. All Rights Reserved | Design by <a
                href="https://github.com/codeDorado/monitorparent" target="_blank" title="CodeDorado">CodeDorado</a> -
            the others system <a href="/druid" title="druid" target="_blank">druid</a></p>
    </div>
    <!-- footer -->
</div>

<style>
    .copyrights {
        text-indent: -9999px;
        height: 0;
        line-height: 0;
        font-size: 0;
        overflow: hidden;
    }
</style>
<div class="copyrights" id="links20210126">
    Collect from <a href="/druid" title="druid">druid</a>
    <a href="/druid" title="druid">druid</a>
</div>
<script type="text/javascript">
    function checkUsername() {
        const username = register.username.value;
        $.ajax({
            url:"/checkUser",
            data: {
                "username": username
            },
            success:function(result){
                const error = document.getElementById("error")
                const commit  = document.getElementById("commit")
                if (result) {
                    error.style.display = "block"
                    commit.disabled = true
                    commit.style.background = "#4E5465"
                } else {
                    error.style.display = "none"
                    commit.disabled = false
                    commit.style.background = "#ff4040"
                }
            }
        });
    }
</script>
</body>
</html>
